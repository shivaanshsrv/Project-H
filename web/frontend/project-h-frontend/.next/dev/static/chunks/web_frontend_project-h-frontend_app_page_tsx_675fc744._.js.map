{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Amity%20K/NTCC%206th%20Sem/Project-H/web/frontend/project-h-frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function Home() {\n  const [image, setImage] = useState<File | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState<any>(null);\n  const [error, setError] = useState(\"\");\n\n  const handleAnalyze = async () => {\n    if (!image) {\n      alert(\"Please select an image\");\n      return;\n    }\n\n    setLoading(true);\n    setError(\"\");\n    setResult(null);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      const formData = new FormData();\n      formData.append(\"image\", image);\n\n      const res = await axios.post(\n        `${process.env.NEXT_PUBLIC_BACKEND_URL}/ai/analyze`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      setResult(res.data.analysis);\n    } catch (err) {\n      setError(\"Analysis failed. Are you logged in?\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: \"40px\", maxWidth: \"800px\", margin: \"auto\" }}>\n      <h1>Projectâ€‘H Roof Analysis</h1>\n\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={(e) => setImage(e.target.files?.[0] || null)}\n      />\n\n      <br /><br />\n\n      <button onClick={handleAnalyze} disabled={loading}>\n        {loading ? \"Analyzing...\" : \"Analyze\"}\n      </button>\n\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n\n      {result && (\n        <div style={{ marginTop: \"30px\" }}>\n          <h2>Result</h2>\n\n          <p><b>Panel Count:</b> {result.panel_count}</p>\n          <p><b>System Size:</b> {result.system_size_kw} kW</p>\n          <p><b>Monthly Energy:</b> {result.energy.monthly} kWh</p>\n          <p><b>Yearly Energy:</b> {result.energy.yearly} kWh</p>\n          <p><b>Confidence:</b> {result.confidence}</p>\n\n          <h3>Overlay</h3>\n          <img\n            src={`${process.env.NEXT_PUBLIC_AI_URL}${result.overlay_image_url}`}\n            style={{ width: \"100%\", border: \"1px solid #ccc\" }}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AA4BW;;AA1BX;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAc;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wNAAQ,EAAC;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wNAAQ,EAAM;IAC1C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wNAAQ,EAAC;IAEnC,MAAM,gBAAgB;QACpB,IAAI,CAAC,OAAO;YACV,MAAM;YACN;QACF;QAEA,WAAW;QACX,SAAS;QACT,UAAU;QAEV,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,SAAS;YAEzB,MAAM,MAAM,MAAM,kMAAK,CAAC,IAAI,CAC1B,6DAAuC,WAAW,CAAC,EACnD,UACA;gBACE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;YACF;YAGF,UAAU,IAAI,IAAI,CAAC,QAAQ;QAC7B,EAAE,OAAO,KAAK;YACZ,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,4OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,UAAU;YAAS,QAAQ;QAAO;;0BAC/D,4OAAC;0BAAG;;;;;;0BAEJ,4OAAC;gBACC,MAAK;gBACL,QAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;0BAGnD,4OAAC;;;;;0BAAK,4OAAC;;;;;0BAEP,4OAAC;gBAAO,SAAS;gBAAe,UAAU;0BACvC,UAAU,iBAAiB;;;;;;YAG7B,uBAAS,4OAAC;gBAAE,OAAO;oBAAE,OAAO;gBAAM;0BAAI;;;;;;YAEtC,wBACC,4OAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAO;;kCAC9B,4OAAC;kCAAG;;;;;;kCAEJ,4OAAC;;0CAAE,4OAAC;0CAAE;;;;;;4BAAgB;4BAAE,OAAO,WAAW;;;;;;;kCAC1C,4OAAC;;0CAAE,4OAAC;0CAAE;;;;;;4BAAgB;4BAAE,OAAO,cAAc;4BAAC;;;;;;;kCAC9C,4OAAC;;0CAAE,4OAAC;0CAAE;;;;;;4BAAmB;4BAAE,OAAO,MAAM,CAAC,OAAO;4BAAC;;;;;;;kCACjD,4OAAC;;0CAAE,4OAAC;0CAAE;;;;;;4BAAkB;4BAAE,OAAO,MAAM,CAAC,MAAM;4BAAC;;;;;;;kCAC/C,4OAAC;;0CAAE,4OAAC;0CAAE;;;;;;4BAAe;4BAAE,OAAO,UAAU;;;;;;;kCAExC,4OAAC;kCAAG;;;;;;kCACJ,4OAAC;wBACC,KAAK,+DAAoC,OAAO,iBAAiB,EAAE;wBACnE,OAAO;4BAAE,OAAO;4BAAQ,QAAQ;wBAAiB;;;;;;;;;;;;;;;;;;AAM7D;GA7EwB;KAAA"}}]
}